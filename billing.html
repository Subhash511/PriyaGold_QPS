<!DOCTYPE html>
<html>
<head>
  <title>Whole Seller Bill QPS Scheme</title>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css"/>
</head>
<body style="padding: 20px 40px;">
  <h1>Whole Seller Bill QPS Scheme</h1>
  
  <!-- Load Data Button -->
  <button id="loadDataBtn" style="margin-bottom: 20px;">Load Data</button>

  <button onclick="window.location.href='index.html'">
  Go to Billing
  </button>


  <table id="example" class="display" style="width:100%">
    <thead>
      <tr>
        <th>Form Submit Date</th>
        <th>State</th>
        <th>SS</th>
        <th>DB</th>
        <th>WS</th>
        <th>Sales Qty</th>
        <th>Bill No</th>
        <th>Bill Date</th>
        <th>Bill Photo URL</th>
      </tr>
    </thead>
  </table>

  <script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
  <script>
    document.getElementById('loadDataBtn').addEventListener('click', function () {
      if ($.fn.DataTable.isDataTable('#example')) {
        $('#example').DataTable().clear().destroy();
      }

      $('#example').DataTable({
        ajax: {
          url: 'https://script.google.com/macros/s/AKfycbyzbgl0mOp2poFLauxPEKirZOhIIzXVMT-Rm9T_Zq59vEklDKKMq8pFTxnYqZR3HVfm/exec',
          dataSrc: ''
        },
        columns: [
          {
            data: 'Timestamp',
            render: function (data, type, row) {
              const date = new Date(data);
              return date.toLocaleString('en-IN', {
                day: '2-digit',
                month: 'short',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: true
              });
            }
          },
          { data: 'State' },
          { data: 'SS' },
          { data: 'DB' },
          { data: 'WS' },
          { data: 'Sales Qty' },
          { data: 'Bill No' },
          {data:'Date',
            render: function (data, type, row) {
              const date = new Date(data);
              return date.toLocaleString('en-IN', {
                day: '2-digit',
                month: 'short',
                year: 'numeric'
                
              });
            }
          },
          {
            data: 'Bill Photo URL',
            render: function (data, type, row) {
              return '<a href="' + data + '" target="_blank">View</a>';
            }
          }
        ]
      });
    });
  </script>
</body>
</html>
